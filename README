1,
mvn 本地安装
mvn install:install-file -Dfile=D:\worksoft\local-jar\wex-openapi-v20170227-080838.jar -DgroupId=com.wexyun -DartifactId=wex-openapi -Dversion=v20170227-080838 -Dpackaging=jar
2,
mvn 打包成war 
clean package
注：会把所有resouces包下的文件夹全部打进去


ALTER TABLE `coffee_api`.`tbl_user` ADD COLUMN `orgid` VARCHAR(64) NULL COMMENT '所属机构ID（商户通侧）' AFTER `username`;

测试代码如下：
http://223.202.198.165:9007/coffee-api/getCreditApply?redeemCode=AAAAA
http://223.202.198.165:9007/coffee-api/creditRedeemcodeVerify?redeemCode=AAAAA,BBBB1B&applyId=2000000365487

#WEX
#核验测试代码：
redeemCode=AAAAA
applyId=2000000365487
token=9d4c2f636f067f8908d41131de534836895b894571df3c83
sign=ef05873cdcac4f35a3ddb6251ff574e3
data=8FC9DEA04B07095E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F75109FA8D3540BB30
md5sign=40fceb18d44723bc6564dd680ae3d868
requset
成功AAAAA
data=8FC9DEA04B07095E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F75109FA8D3540BB30&md5sign=40fceb18d44723bc6564dd680ae3d868&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
已核销CCCCC
data=8FC9DEA04B07095E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F7EEE8A116C3DE119B&md5sign=6ca12ab167520371337bada3dad5dc0d&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
不存在BBBBB
data=8FC9DEA04B07095E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F7C43790584661BD80&md5sign=806a746d9151928fe8673bbeaffea15a&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
response
成功AAAAA
E5193FACDF17B2B6AE2B47E44E17BC7DBD56A3693AF62AA28F21C507FAE1E5A18359601A72AD66E71EE4894CA61B96152A669AA2031A645A088DF9940D096064F4D2B7030EC49C42DF363CD7D669DCCAE773835A75FED5C86D6091A29AFBBD636D2A3CEF327091B208B21AA750ED0F85FCBE7C574A3BE81C61D7488582DF3E6B955A91EB8B44D441A0E9A635EFC4B1D0053E6AE947F82BFA179B366C59901BC8CA202E10CCBB22B260D211B6626C51A1A2515CB2864746AD9FBE299D3F9457621F4A150E540DA93E40B03DDDD074A96B
已核销CCCCC
E5193FACDF17B2B6AE2B47E44E17BC7D618417FE741AD6FA8F21C507FAE1E5A18359601A72AD66E71EE4894CA61B96152A669AA2031A645AD1347C2ECDC6A095F4D2B7030EC49C42DF363CD7D669DCCAE773835A75FED5C80A47369466D1F86A6D2A3CEF327091B208B21AA750ED0F85FCBE7C574A3BE81C61D7488582DF3E6B955A91EB8B44D441A0E9A635EFC4B1D09763FFF46792C38E179B366C59901BC8BD579596245A46C92624DD4CEA8BC53DA2515CB2864746AD9FBE299D3F9457621F4A150E540DA93E40B03DDDD074A96B
不存在BBBBB
#核销测试代码：
redeemCode=AAAAA,BBBBB,CCCCC
agentId=2000000365487
token=9d4c2f636f067f8908d41131de534836895b894571df3c83
sign=ef05873cdcac4f35a3ddb6251ff574e3
data=AB25FF3A40543A0E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F70A53B958F6F0F20179FB664C8A2DD7673211023E0A102F2B
md5sign=f08a7ca76f8dcf6590b90288457d9470
request
data=AB25FF3A40543A0E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F70A53B958F6F0F20179FB664C8A2DD7673211023E0A102F2B&md5sign=f08a7ca76f8dcf6590b90288457d9470&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
response
D5F5B482345CE7DF86B03F77A83E4C2FC476F7E460B10C4ECF4CF185FC672838844079713B83ADA623D04CA86156AF72A976788780DC53E0377409E8F22BAB49FC719F6A21F31B34179B366C59901BC8CA202E10CCBB22B2CAC7295EB2089283866E7BD412F038AC218BD965E1510B790EE4487EC408BE476A8D28885BE81674B835F74E616F7F4F2F9DC45D6454EE49F0E68A060653555685109A84C1C54406D39A0678A7E9A8E2B0A9D82A6898E43BF684541E98218B00836C54DA7D59685D59816121C180A2E0FB1935506BCFE2B3ABDCC9F504DC5A8270BFF00EDF7B865D53A39D4B658E9DB7FB4B10B83CAAE4A063750B4D61BE15175F107622BCF98501BA7BAEB7990CE1106EE738C6464447DF30BC669611C3808D2BF9ABE485987F98EEB2FEFA5E2988AD9DDDA9631C2A87AFD37AD887B62D0761
[
    {
        "applyId": "123123", 
        "errorCode": "SUCCESS", 
        "errorMessage": "核销成功", 
        "redeemCode": "AAAAA", 
        "status": "010"
    }, 
    {
        "errorCode": "NOT_EXIST", 
        "errorMessage": "兑换码不存在", 
        "redeemCode": "BBBBB", 
        "status": "020"
    }, 
    {
        "errorCode": "VERIFIED", 
        "errorMessage": "不能重复核销", 
        "redeemCode": "CCCCC", 
        "status": "020"
    }
]

#COFFEEBEAN
核验测试代码：
redeemCode=AAAAAA
applyId=2000000365487
token=9d4c2f636f067f8908d41131de534836895b894571df3c83
sign=ef05873cdcac4f35a3ddb6251ff574e3
data=8FC9DEA04B07095E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F75109FA8D3540BB30
md5sign=40fceb18d44723bc6564dd680ae3d868
requset
成功AAAAAA
data=8FC9DEA04B07095E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F7C262E7E9D5380484&md5sign=897646d88bd25bba10ab71408223b057&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
已核销CCCCCC
data=8FC9DEA04B07095E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F7E2AD31FD0F16223C&md5sign=c24030fe6e91ff21cdb84a75e5016500&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
不存在BBBBBB
data=8FC9DEA04B07095E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F78C0FE2DDCCE58FED&md5sign=b3057e933054606f3b6b794178355db6&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
response
成功AAAAAA
E5193FACDF17B2B6AE2B47E44E17BC7DE18CCF053C07B0548F21C507FAE1E5A18359601A72AD66E7E25C1FFCEB48CAAC2A669AA2031A645ADD9ACBBA44688012B6FBADE5B6764B98DF363CD7D669DCCA13D385FFB7F73F9A75BEB235CBBB2F82D6A791D4B642888308B21AA750ED0F8558159FD8EFDC09BF8ECA303D5CC88020955A91EB8B44D4414F1708EC7E7C9D9E263C456B29BE92F4179B366C59901BC8CA202E10CCBB22B2C91E4EA165668E02D171EF806F45E03A71088EF062035EDEE820243D043A676508E92164861624DD
已核销CCCCCC
E5193FACDF17B2B6AE2B47E44E17BC7DE18CCF053C07B0548F21C507FAE1E5A18359601A72AD66E7E25C1FFCEB48CAAC2A669AA2031A645ADD9ACBBA44688012B6FBADE5B6764B98DF363CD7D669DCCA13D385FFB7F73F9A75BEB235CBBB2F82D6A791D4B642888308B21AA750ED0F8558159FD8EFDC09BF8ECA303D5CC88020955A91EB8B44D4414F1708EC7E7C9D9E263C456B29BE92F4179B366C59901BC8BD579596245A46C9113DEEE6B048015FD171EF806F45E03A71088EF062035EDEFEEDC91FEB3B01ABC82E15E928E4C1B4
不存在BBBBBB

#核销测试代码：
redeemCode=AAAAAA,BBBBBB,CCCCCC
agentId=2000000365487
token=9d4c2f636f067f8908d41131de534836895b894571df3c83
sign=ef05873cdcac4f35a3ddb6251ff574e3
data=AB25FF3A40543A0E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F7DA0B01A2BA0223951DDB1B311ACE83A646B96275CAD0C5DF
md5sign=9a2363538142bee107a92f673b35d236
request
data=AB25FF3A40543A0E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F7DA0B01A2BA0223951DDB1B311ACE83A646B96275CAD0C5DF&md5sign=9a2363538142bee107a92f673b35d236&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
response
D5F5B482345CE7DF593F6C010847342E6F8A2969D8C0BBB971DF9E602CFBFA9648C2C872C71038B0D68A568DDB35827DEA8D9EE126DDCD03D5184E9CDF4AF59F30098D638E699A4B30BC669611C3808D6958D74DC11229D4CB7B02E8CE759887D3C8BFB20A267A7671B0D6BE675E8E7E95247AC63A742A49AD2DE1066FB721432AF522A643533470A976788780DC53E0E0EFBC51322C183EC598E45173A70A92D07C578B47F77FBBD171EF806F45E03AE4CAE1E567515EB727B455F83794BFB018F1B92DB1C9C9A47EC76EF28892C7654A89EDFA08DFEF9BFEEDC91FEB3B01ABFE552EF7EF5E350F531B25246ACD8A829DC19C5C86E2857982594CD77FF4B2BCCA79DE55EAE30D1F179B366C59901BC8BD579596245A46C9113DEEE6B048015FBBA4A26958700BF21648A3D6FD876B3F
[
    {
        "applyId": "2", 
        "errorCode": "SUCCESS", 
        "errorMessage": "核销成功", 
        "redeemCode": "AAAAAA", 
        "status": "010"
    }, 
    {
        "errorCode": "NOT_EXIST", 
        "errorMessage": "兑换码不存在", 
        "redeemCode": "BBBBBB", 
        "status": "020"
    }, 
    {
        "errorCode": "VERIFIED", 
        "errorMessage": "不能重复核销", 
        "redeemCode": "CCCCCC", 
        "status": "020"
    }
]

#混合核销测试：
redeemCode=AAAAAA,BBBBB,CCCCC,DDDD
agentId=2000000365487
token=9d4c2f636f067f8908d41131de534836895b894571df3c83
sign=ef05873cdcac4f35a3ddb6251ff574e3
data=AB25FF3A40543A0E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F7DA0B01A2BA02239556DE68F13FFB2F4A2DFB10E170008EE444F75FBC028D4403
md5sign=f0dd2d2db775268f372a15482967362c
request
data=AB25FF3A40543A0E2B646EEF3F786A87C2FCC7E1A901F7EB62F8BA61AD6406F7DA0B01A2BA02239556DE68F13FFB2F4A2DFB10E170008EE444F75FBC028D4403&md5sign=f0dd2d2db775268f372a15482967362c&token=9d4c2f636f067f8908d41131de534836895b894571df3c83
response
31CA1E6EB298F479AEFCBD90AB2D64523E377171A088AB9C9A9F5A5FD3D96BE1AFAF12428C542DBDB777E8DF07D6826CAF2C968E02C3234D7801884883AAB637A2515CB2864746AD04E17A72C6FE763FCB7B02E8CE7598871D982056DCFE0F8B71B0D6BE675E8E7E95247AC63A742A49AD2DE1066FB721432AF522A643533470A976788780DC53E0E0EFBC51322C183EC598E45173A70A92D07C578B47F77FBBD171EF806F45E03AE4CAE1E567515EB7CD5462C9E05035104312D3D7845D8935A1D5113D481D2B18CF4CF185FC6728381F4A150E540DA93ED7DEA27810B1756A53504FC6EC89BB467FD0976C845ED9BE1AF10EC824CE4919D821C395F9614CF16E342CF830C17EBB5102412714F42A1D7BFBC5C34747352418F1B92DB1C9C9A4A6A59EA8B3C5DDDC2BDDE3D118C056767B3D0ACF0BD06D1FBD0834489511A3880B44C9A2FD5F887B9A9F5A5FD3D96BE1AFAF12428C542DBDE233336C7B414246517A1D3E863259ED6E342CF830C17EBB4330AE7DC4060197CAC7295EB2089283866E7BD412F038ACBF498FE18C5EA52D
[
    {
        "errorCode": "NOT_EXIST", 
        "errorMessage": "兑换码不存在", 
        "redeemCode": "DDDD", 
        "status": "020"
    }, 
    {
        "errorCode": "NOT_EXIST", 
        "errorMessage": "兑换码不存在", 
        "redeemCode": "BBBBB", 
        "status": "020"
    }, 
    {
        "errorCode": "VERIFIED", 
        "errorMessage": "不能重复核销", 
        "redeemCode": "CCCCC", 
        "status": "020"
    }, 
    {
        "applyId": "2", 
        "errorCode": "SUCCESS", 
        "errorMessage": "核销成功", 
        "redeemCode": "AAAAAA", 
        "status": "010"
    }
]


#2017-10-11增加核验返回invalidDate字段
request
http://223.202.198.165:9007/coffee-api/getCreditApply?data=7FFA6116F060EAB7ABD6461C7EC7733941344892587939C95DDE2173724F7DF704FD7F637DCB0341&md5sign=37ba1a5699506ae070a581ddca8477aa&token=4621d373cade4e8356241ee1f3e24d27b398a62618cd3a43
response
{"content":"6ACE0B5AE4916A05F66442181E92F8D98CF3CA800DD41C04F36790372A9AC9CD6A5FDA10CC063F72E47479BBD6B33A40E3B2087048FD9B701E876473D94714C7774F0325EBF165B1996DDA88D6ED76A93EA11842063096B7C8FC95A9BA043727884061C1B92CA2701A9E9706DC563BA25D3FD4F6C737B9E388154CE638A139EE4BF66F819443C2A5B8E242DA9DB27675ACE10B1E2E80D7DC17B49658806BA6FE4B8A00BAD4B834ADAE72C0F93F8D425CA4CA4D3C4B0248DF33606FD37497A38000A6C0023CD3BA4CAD1254F7187B1E896E5D8FB9A21597014CF92078373EED7FFD3F90916103E0AF0841A58F992D1DC46FCBE7BA823BEA46","errorMsg":"","result":"000"}
DES decrypt
[
	{
	  "borrowAmount": "2.00",
	  "borrowDuration": "3",
	  "borrowName": "吴振宇",
	  "certNo": "230704198805240611",
	  "invalidDate": "2017-10-17 10:38:46",
	  "memberId": "2017101100000001",
	  "mobile": "18610845855",
	  "redeemCode": "QNEXZR",
	  "redeemCodeStatus": "VERIFIED"
	},
	{
	  "borrowAmount": "6.00",
	  "borrowDuration": "9",
	  "borrowName": "吴振宇",
	  "certNo": "230704198805240611",
	  "invalidDate": "2017-10-17 11:15:16",
	  "memberId": "2017101100000001",
	  "mobile": "18610845855",
	  "redeemCode": "SKLARG",
	  "redeemCodeStatus": "INVERIFIED"
	}
]
